<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order List</title>
    {% load static %}  
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" >  
    <link href="{% static 'css/formstyle.css' %}" rel="stylesheet" >  
    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}" type="js"></script>  
</head>
    <body>
        <div class="container-fluid" >
        <div class="bg-white">
            <button  class="btn btn-info button" onclick="addorder()">
                <img src="{% static 'assets/plus-square.svg' %}"  >                
                Add New Order</button>
        </div>    
        <h1 class="heading ">Orders</h2>
        
        <div class="search">
            <input class="form-control" id="myInput" type="text" placeholder="Search..">    
        </div>

        <table id="myTable" class="table table-striped table-bordered table-responsive">  
            <thead class="thead-dark">  
            <tr>  
                <th>ID</th>  
                <th>Order Number</th>
                <th>Custommer</th>     
                <th>Date</th>   
                <th>Order Lines</th>
                <th>Edit</th>
                <th>Delete</th>  
            </tr>  
            </thead>  
            <tbody class="ordertbody">  
            </tbody>  
        </table>  
        
        <!-- The Modal -->
        <div class="modal " >
          <div class="modal-dialog modal-xl">
            <div class="modal-content">
        
        
              <div class="modal-header ">
                <h4 class="modal-title "></h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="hidemodal()"></button>
              </div>
        

              <div class="modal-body">
                    <div class="order">
                        <form method="post" class="post-form">
                            {% csrf_token %}   
                                <div class="mb-3 hidden">
                                <label for="id" class="form-label">Id:</label>
                                <input type="text" class="form-control" id="id" name="id"
                                >
                                </div>
                                <div class="row">
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="ordernumber" class="form-label">Order Number:</label>
                                    <input type="text" class="form-control" id="ordernumber" placeholder="Enter Order Number" 
                                    >
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6" >
                                        <label for="customerid" class="form-label">Customer:</label>
                                        <select class="form-control" id="customerid">
                                           <option></option>
                                        </select>
                                    </div>
                                </div>

                            </form>                           
                        </div>
                    

                    <div class="orderline">
                            <table  class="table table-striped table-bordered table-responsive">     
                                <tr>  
                                    <td>
                                        <div >
                                            <label for="orderlinenumber" class="form-label">Order Line Number:</label>
                                            <input type="text" class="form-control" id="orderlinenumber" placeholder="Enter Order Line Number"
                                            name="orderlinenumber" >
                                        </div>
                                    </td>  
                                    <td>
                                        <div  >
                                            <label for="productid" class="form-label">Product:</label>
                                            <select class="form-control" id="productid">
                                                <option></option>
                                            </select>
                                        </div>
                                    </td>  
                                    <td>
                                        <div >
                                            <label for="quantity" class="form-label">Quantity:</label>
                                            <input type="text" class="form-control" id="quantity" placeholder="Enter Quantity"
                                            name="quantity" >
                                        </div>
                                    </td>  
                                    <td>
                                        <div >
                                            <label for="price" class="form-label">Price(Rs):</label>
                                            <input type="text" class="form-control" id="price" placeholder="Enter Price"
                                            name="price" >
                                        </div>
                                    </td>   
                                    <td>
                                        <div class="pt-4">
                                            <button class="btn btn-info" onclick="saveorderline()">
                                                <img src="{% static 'assets/save.svg' %}" style="color: white;">
                                                Add</button>
                                        </div>
                                    </td>
                                </tr>    
                        </table>  

                        <table id="orderlines" class="table table-striped table-bordered table-responsive">  
                            <thead class="thead-dark">  
                            <tr>  
                                <th>ID</th>  
                                <th>Order Number</th>
                                <th>Order Line Number</th>     
                                <th>Product Code</th> 
                                <th>Product Name</th>  
                                <th>Quantity</th>   
                                <th>Price</th>   
                                <th>Delete</th>  
                            </tr>  
                            </thead>  
                            <tbody class="orderlinestbody">  
                               
                            </tbody>  
                        </table>  

                    </div>
                    </div>

                        <div class="modal-footer">
                            <button  class="btn btn-info save" onclick="saveorder()" >
                                <img src="{% static 'assets/save.svg' %}"  >              
                                Next</button>
                            <button  class="btn btn-secondary update" onclick="updateorder()" >
                                <img src="{% static 'assets/pencil.svg' %}"  >              
                                Next</button>
                            {% comment %} <button  class="btn btn-success fetch" onclick="fetchorder()" >
                                <img src="{% static 'assets/arrow-left.svg' %}"  >              
                                Prev</button> {% endcomment %}
                            <button  class="btn btn-danger close" onclick="hidemodal()" >       
                                <img src="{% static 'assets/x.svg' %}"  >                   
                                Close</button>
                        </div>
        
            </div>
          </div>
        </div>  

        </div>

        <script src="{% static 'jquery/jquery.js' %}" ></script> 
        <script src="{% static 'axios/axios/dist/axios.min.js' %}" ></script> 
        <script src="{% static 'vuejs/vue.js' %}" ></script> 
        <script src="{% static 'js/order/fetchorder.js' %}" ></script> 
        <script src="{% static 'js/filter/filter.js' %}" ></script>   
 
    </body>
</html>